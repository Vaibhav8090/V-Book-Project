{"ast":null,"code":"var _jsxFileName = \"C:\\\\React-Project\\\\V-Book\\\\frontend\\\\src\\\\components\\\\body\\\\auth\\\\ResetPassword.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { isMatch, isLength } from \"../../utils/validation/Validation\";\nimport { useParams } from \"react-router-dom\";\nimport { showErrMsg, showSuccessMsg } from \"../../utils/notification/Notification\";\nimport { Button, Input } from \"antd\";\nimport { Helmet } from \"react-helmet\";\nimport axios from \"axios\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  password: \"\",\n  cf_password: \"\",\n  success: \"\",\n  err: \"\"\n};\nconst ResetPassword = () => {\n  _s();\n  const [data, setData] = useState(initialState);\n  const {\n    token\n  } = useParams();\n  const {\n    password,\n    cf_password,\n    err,\n    success\n  } = data;\n  const handleChange = e => {\n    setData({\n      ...data,\n      [e.target.name]: e.target.value,\n      err: \"\",\n      success: \"\"\n    });\n  };\n  const resetPassword = async () => {\n    if (isLength(password)) return setData({\n      ...data,\n      err: \"Password must be at least 6 characters.\",\n      success: \"\"\n    });\n    if (!isMatch(password, cf_password)) return setData({\n      ...data,\n      err: \"Password did not match\",\n      success: \"\"\n    });\n    try {\n      const res = await axios.post(\"/user/reset\", {\n        password\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      return setData({\n        ...data,\n        err: \"\",\n        success: res.data.msg\n      });\n    } catch (err) {\n      return setData({\n        ...data,\n        err: err.response.data.msg,\n        success: \"\"\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fg_pass\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Reset Your Password \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), err && showErrMsg(err), success && showSuccessMsg(success), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          name: \"password\",\n          value: password,\n          type: \"password\",\n          className: \"input\",\n          placeholder: \"Password\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          name: \"cf_password\",\n          value: cf_password,\n          type: \"password\",\n          className: \"input\",\n          placeholder: \"Confirm Password\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetPassword,\n          children: \"RESET PASSWORD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ResetPassword, \"WMFUP8fu4tNDOjnO3J2gBGUFOaw=\", false, function () {\n  return [useParams];\n});\n_c = ResetPassword;\nexport default ResetPassword;\nvar _c;\n$RefreshReg$(_c, \"ResetPassword\");","map":{"version":3,"names":["React","useState","isMatch","isLength","useParams","showErrMsg","showSuccessMsg","Button","Input","Helmet","axios","initialState","password","cf_password","success","err","ResetPassword","data","setData","token","handleChange","e","target","name","value","resetPassword","res","post","headers","Authorization","msg","response"],"sources":["C:/React-Project/V-Book/frontend/src/components/body/auth/ResetPassword.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { isMatch, isLength } from \"../../utils/validation/Validation\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  showErrMsg,\n  showSuccessMsg,\n} from \"../../utils/notification/Notification\";\nimport { Button, Input } from \"antd\";\nimport { Helmet } from \"react-helmet\";\n\nimport axios from \"axios\";\nconst initialState = {\n  password: \"\",\n  cf_password: \"\",\n  success: \"\",\n  err: \"\",\n};\n\nconst ResetPassword = () => {\n  const [data, setData] = useState(initialState);\n  const { token } = useParams();\n  const { password, cf_password, err, success } = data;\n  const handleChange = (e) => {\n    setData({ ...data, [e.target.name]: e.target.value, err: \"\", success: \"\" });\n  };\n  const resetPassword = async () => {\n    if (isLength(password))\n      return setData({\n        ...data,\n        err: \"Password must be at least 6 characters.\",\n        success: \"\",\n      });\n\n    if (!isMatch(password, cf_password))\n      return setData({ ...data, err: \"Password did not match\", success: \"\" });\n    try {\n      const res = await axios.post(\n        \"/user/reset\",\n        { password },\n        {\n          headers: { Authorization: token },\n        }\n      );\n      return setData({ ...data, err: \"\", success: res.data.msg });\n    } catch (err) {\n      return setData({ ...data, err: err.response.data.msg, success: \"\" });\n    }\n  };\n  return (\n    <>\n      <Helmet>\n        <title>Reset Password</title>\n      </Helmet>\n      <div className=\"fg_pass\">\n        <div className=\"row\">\n          <h2>Reset Your Password </h2>\n          {err && showErrMsg(err)}\n          {success && showSuccessMsg(success)}\n\n          <label>Password</label>\n          <Input\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            className=\"input\"\n            placeholder=\"Password\"\n            onChange={handleChange}\n          />\n\n          <label>Confirm Password</label>\n          <Input\n            name=\"cf_password\"\n            value={cf_password}\n            type=\"password\"\n            className=\"input\"\n            placeholder=\"Confirm Password\"\n            onChange={handleChange}\n          />\n\n          <button onClick={resetPassword}>RESET PASSWORD</button>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ResetPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}