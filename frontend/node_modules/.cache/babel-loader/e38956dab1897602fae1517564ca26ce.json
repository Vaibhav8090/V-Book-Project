{"ast":null,"code":"import ACTIONS from './index';\nimport axios from 'axios';\n//fetch data from db\n//send the data to the DB so that it knows to signin the user\n//log in the user ..\nexport const studentRegister = formData => async dispatch => {\n  try {\n    console.log(formData);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const dispatchLogin = () => {\n  return {\n    type: ACTIONS.LOGIN\n  };\n};\nexport const fetchUser = async token => {\n  const res = await axios.get('/user/infor', {\n    headers: {\n      Authorization: token\n    }\n  });\n  return res;\n};\nexport const dispatchGetUser = res => {\n  return {\n    type: ACTIONS.GET_USER,\n    payload: {\n      user: res.data,\n      isAdmin: res.data.role === 1 ? true : false\n    }\n  };\n};","map":{"version":3,"names":["ACTIONS","axios","studentRegister","formData","dispatch","console","log","error","dispatchLogin","type","LOGIN","fetchUser","token","res","get","headers","Authorization","dispatchGetUser","GET_USER","payload","user","data","isAdmin","role"],"sources":["C:/React-Project/V-Book/frontend/src/redux/actions/authAction.js"],"sourcesContent":["import ACTIONS from './index'\nimport axios from 'axios'\n//fetch data from db\n//send the data to the DB so that it knows to signin the user\n//log in the user ..\nexport const studentRegister = (formData) => async (dispatch) => {\n    try {\n        console.log(formData);\n    } catch (error) {\n        console.log(error);\n    }\n}\nexport const dispatchLogin = () => {\n    return {\n        type: ACTIONS.LOGIN\n    }\n}\n\nexport const fetchUser = async (token) => {\n    const res = await axios.get('/user/infor', {\n        headers: { Authorization: token }\n    })\n    return res\n}\n\nexport const dispatchGetUser = (res) => {\n    return {\n        type: ACTIONS.GET_USER,\n        payload: {\n            user: res.data,\n            isAdmin: res.data.role === 1 ? true : false\n        }\n    }\n}"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,KAAK,MAAM,OAAO;AACzB;AACA;AACA;AACA,OAAO,MAAMC,eAAe,GAAIC,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EAC7D,IAAI;IACAC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;EACzB,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;EACtB;AACJ,CAAC;AACD,OAAO,MAAMC,aAAa,GAAG,MAAM;EAC/B,OAAO;IACHC,IAAI,EAAET,OAAO,CAACU;EAClB,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,SAAS,GAAG,MAAOC,KAAK,IAAK;EACtC,MAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAC,aAAa,EAAE;IACvCC,OAAO,EAAE;MAAEC,aAAa,EAAEJ;IAAM;EACpC,CAAC,CAAC;EACF,OAAOC,GAAG;AACd,CAAC;AAED,OAAO,MAAMI,eAAe,GAAIJ,GAAG,IAAK;EACpC,OAAO;IACHJ,IAAI,EAAET,OAAO,CAACkB,QAAQ;IACtBC,OAAO,EAAE;MACLC,IAAI,EAAEP,GAAG,CAACQ,IAAI;MACdC,OAAO,EAAET,GAAG,CAACQ,IAAI,CAACE,IAAI,KAAK,CAAC,GAAG,IAAI,GAAG;IAC1C;EACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module"}